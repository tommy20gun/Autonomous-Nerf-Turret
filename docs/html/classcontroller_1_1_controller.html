<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mciver: controller.Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mciver<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">The Mciver Autonomous Nerf Blaster is a heat-seeking auto-aiming turret that finds and shoots foam darts at human beings. Humans are tracked by an infared camera, so realistically, the turret will fire at anything that is on average hotter than the surrounding environment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcontroller_1_1_controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classcontroller_1_1_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">controller.Controller Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class implements a closed feedbackloop with the encoder reader and motor driver.  
 <a href="classcontroller_1_1_controller.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3d3c7db9449e6a10b272a144afbe31c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#ab3d3c7db9449e6a10b272a144afbe31c">__init__</a> (self, <a class="el" href="classcontroller_1_1_controller.html#a325e38603272b05f01044e6e50105fe3">kP</a>, initialSetPoint)</td></tr>
<tr class="memdesc:ab3d3c7db9449e6a10b272a144afbe31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the controller by obtaining a kP and initialset point.  <br /></td></tr>
<tr class="separator:ab3d3c7db9449e6a10b272a144afbe31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e4d91517a7be7ddb03cf2001eef656"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#a77e4d91517a7be7ddb03cf2001eef656">run</a> (self, currentPos)</td></tr>
<tr class="memdesc:a77e4d91517a7be7ddb03cf2001eef656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the controls equation kP(thetafinal - thetainitial) = phi.  <br /></td></tr>
<tr class="separator:a77e4d91517a7be7ddb03cf2001eef656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfdc46a64ea78077400e1c5ce2ac367"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#addfdc46a64ea78077400e1c5ce2ac367">set_point</a> (self, num)</td></tr>
<tr class="memdesc:addfdc46a64ea78077400e1c5ce2ac367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the setpoint of the motor.  <br /></td></tr>
<tr class="separator:addfdc46a64ea78077400e1c5ce2ac367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefdc301e0c4c532651abbe7249babb6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#afefdc301e0c4c532651abbe7249babb6">set_kP</a> (self, num)</td></tr>
<tr class="memdesc:afefdc301e0c4c532651abbe7249babb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the kP value of the controller.  <br /></td></tr>
<tr class="separator:afefdc301e0c4c532651abbe7249babb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3605f6e8f362d379918e048ee2acc4cf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#a3605f6e8f362d379918e048ee2acc4cf">dataOutput</a> (self, currentPos)</td></tr>
<tr class="memdesc:a3605f6e8f362d379918e048ee2acc4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Outputs the data in UTF-8 format through the ST-Link serially into the computer.  <br /></td></tr>
<tr class="separator:a3605f6e8f362d379918e048ee2acc4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a325e38603272b05f01044e6e50105fe3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#a325e38603272b05f01044e6e50105fe3">kP</a></td></tr>
<tr class="separator:a325e38603272b05f01044e6e50105fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b01e989bdc352cc1585212b0515e13d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#a0b01e989bdc352cc1585212b0515e13d">setPoint</a></td></tr>
<tr class="separator:a0b01e989bdc352cc1585212b0515e13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc43f80b46d4e299e346febf460c7de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#abbc43f80b46d4e299e346febf460c7de">u2</a></td></tr>
<tr class="memdesc:abbc43f80b46d4e299e346febf460c7de"><td class="mdescLeft">&#160;</td><td class="mdescRight">The uart object is created, allowing for uart communcation through the ST-link.  <br /></td></tr>
<tr class="separator:abbc43f80b46d4e299e346febf460c7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a117577e8a802a7838ea7e4f818525795"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_controller.html#a117577e8a802a7838ea7e4f818525795">start</a></td></tr>
<tr class="memdesc:a117577e8a802a7838ea7e4f818525795"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time at the start of the program.  <br /></td></tr>
<tr class="separator:a117577e8a802a7838ea7e4f818525795"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements a closed feedbackloop with the encoder reader and motor driver. </p>
<p>This allows the motor to "know" where it is and change it's duty cycle based on its position </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab3d3c7db9449e6a10b272a144afbe31c" name="ab3d3c7db9449e6a10b272a144afbe31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d3c7db9449e6a10b272a144afbe31c">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.Controller.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>initialSetPoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the controller by obtaining a kP and initialset point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kP</td><td>The proportionality constant of the controls. </td></tr>
    <tr><td class="paramname">initialSetPoint</td><td>The position where the user desires the motor to be. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3605f6e8f362d379918e048ee2acc4cf" name="a3605f6e8f362d379918e048ee2acc4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3605f6e8f362d379918e048ee2acc4cf">&#9670;&#160;</a></span>dataOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.Controller.dataOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>currentPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Outputs the data in UTF-8 format through the ST-Link serially into the computer. </p>
<p>serialParser.py reads this data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentPos</td><td>The current position of the encoder given by encoder reader. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77e4d91517a7be7ddb03cf2001eef656" name="a77e4d91517a7be7ddb03cf2001eef656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77e4d91517a7be7ddb03cf2001eef656">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.Controller.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>currentPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of the controls equation kP(thetafinal - thetainitial) = phi. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentPos</td><td>The current position of the motor given by the encoder </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afefdc301e0c4c532651abbe7249babb6" name="afefdc301e0c4c532651abbe7249babb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefdc301e0c4c532651abbe7249babb6">&#9670;&#160;</a></span>set_kP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.Controller.set_kP </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the kP value of the controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>The signed integer than is the new kP value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="addfdc46a64ea78077400e1c5ce2ac367" name="addfdc46a64ea78077400e1c5ce2ac367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfdc46a64ea78077400e1c5ce2ac367">&#9670;&#160;</a></span>set_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.Controller.set_point </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the setpoint of the motor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>The signed integer that is the new setpoint. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a325e38603272b05f01044e6e50105fe3" name="a325e38603272b05f01044e6e50105fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a325e38603272b05f01044e6e50105fe3">&#9670;&#160;</a></span>kP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">controller.Controller.kP</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b01e989bdc352cc1585212b0515e13d" name="a0b01e989bdc352cc1585212b0515e13d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b01e989bdc352cc1585212b0515e13d">&#9670;&#160;</a></span>setPoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">controller.Controller.setPoint</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a117577e8a802a7838ea7e4f818525795" name="a117577e8a802a7838ea7e4f818525795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a117577e8a802a7838ea7e4f818525795">&#9670;&#160;</a></span>start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">controller.Controller.start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The time at the start of the program. </p>
<p>This will be subtracted from a timer later in the program to get the time difference. Essentially, this allows the program to zero its time. </p>

</div>
</div>
<a id="abbc43f80b46d4e299e346febf460c7de" name="abbc43f80b46d4e299e346febf460c7de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc43f80b46d4e299e346febf460c7de">&#9670;&#160;</a></span>u2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">controller.Controller.u2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The uart object is created, allowing for uart communcation through the ST-link. </p>
<p>Plotos are made on serialParser.py </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="controller_8py.html">controller.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecontroller.html">controller</a></li><li class="navelem"><a class="el" href="classcontroller_1_1_controller.html">Controller</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
